<%= render 'shared/navbar' %>

<div class="container mx-auto px-4">
  <h1 class="text-4xl font-extrabold text-center text-gray-800 mt-8">Movie Details: <%= @movie.title %></h1>

  <!-- Movie Information Card -->
  <div class="bg-white shadow-lg rounded-lg p-6 mt-8">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <p class="text-lg"><span class="font-semibold">Genre:</span> <%= @movie.genre %></p>
        <p class="text-lg"><span class="font-semibold">Rating:</span> <%= @movie.rating %></p>
        <p class="text-lg"><span class="font-semibold">Release Date:</span> <%= @movie.release_date.strftime('%B %d, %Y') %></p>
        <% if @movie.release_date.year > 2020 %>
          <p class="text-lg text-green-600"><span class="font-semibold">Status:</span> New Movie</p>
        <% else %>
          <p class="text-lg text-gray-600"><span class="font-semibold">Status:</span> Old Movie</p>
        <% end %>
      </div>
      <div>
        <p class="text-lg"><span class="font-semibold">Budget:</span> <%= number_to_currency(@movie.budget) %></p>
        <p class="text-lg"><span class="font-semibold">Revenue:</span> <%= number_to_currency(@movie.revenue) %></p>
        <p class="text-lg"><span class="font-semibold">Overview:</span> <%= @movie.overview %></p>
      </div>
    </div>
  </div>

  <!-- Actors Section -->
  <div class="mt-10">
    <h2 class="text-3xl font-bold text-gray-700 mb-4">Actors</h2>
    <ul class="space-y-2">
      <% @actors.each do |actor| %>
        <li class="text-lg">
          <%= link_to actor.name, show_actor_path(actor), class: "text-indigo-600 hover:underline" %>
        </li>
      <% end %>
    </ul>
  </div>

  <!-- Directors Section -->
  <div class="mt-10">
    <h2 class="text-3xl font-bold text-gray-700 mb-4">Directors</h2>
    <ul class="space-y-2">
      <% @directors.each do |director| %>
        <li class="text-lg">
          <%= link_to director.name, show_director_path(director), class: "text-indigo-600 hover:underline" %>
        </li>
      <% end %>
    </ul>
  </div>

  <!-- Reviews Section -->
  <div class="mt-10">
    <h2 class="text-3xl font-bold text-gray-700 mb-4">Reviews</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow rounded-lg overflow-hidden">
        <thead class="bg-gradient-to-r from-purple-500 to-indigo-500 text-white">
          <tr>
            <th class="w-2/3 text-left px-4 py-2">Review</th>
            <th class="text-left px-4 py-2">Rating</th>
          </tr>
        </thead>
        <tbody class="text-gray-700">
          <% @reviews.each do |review| %>
            <tr class="border-b hover:bg-gray-100 transition duration-200">
              <td class="px-4 py-2"><%= review.review_text %></td>
              <td class="px-4 py-2"><%= review.rating %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Back Button -->
  <div class="mt-8 text-center">
    <%= link_to 'Back to Movies List', movies_path, class: "inline-block bg-blue-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-600 transition duration-200" %>
  </div>
</div>
